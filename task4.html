<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookstore API - Get Books by Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #00b4db 0%, #0083b0 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        @media (max-width: 900px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
        
        .api-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
        }
        
        h2 {
            color: #0083b0;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #eaeaea;
        }
        
        h3 {
            color: #00b4db;
            margin: 1rem 0;
        }
        
        .endpoint {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }
        
        .btn {
            display: inline-block;
            background: #0083b0;
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
            margin: 0.5rem 0;
        }
        
        .btn:hover {
            background: #00b4db;
            transform: translateY(-2px);
        }
        
        .response {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .search-input {
            display: flex;
            gap: 10px;
            margin: 1rem 0;
        }
        
        .search-input input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .search-input button {
            white-space: nowrap;
        }
        
        .title-list {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .title-item {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            width: calc(50% - 0.5rem);
        }
        
        @media (max-width: 600px) {
            .title-item {
                width: 100%;
            }
        }
        
        .title-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .title-item.selected {
            border: 2px solid #0083b0;
            background: #e6f7ff;
        }
        
        .book-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        
        .book-author {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .book-results {
            margin: 1.5rem 0;
        }
        
        .book-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
            display: flex;
        }
        
        .book-image {
            width: 120px;
            background: #00b4db;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
        }
        
        .book-info {
            padding: 1.5rem;
            flex: 1;
        }
        
        .book-title-large {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        
        .book-author-large {
            color: #7f8c8d;
            margin-bottom: 0.5rem;
        }
        
        .book-meta {
            color: #95a5a6;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .book-price {
            color: #0083b0;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .book-description {
            line-height: 1.6;
            margin: 1rem 0;
            color: #34495e;
            font-size: 0.9rem;
        }
        
        .no-books {
            text-align: center;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 8px;
            color: #7f8c8d;
        }
        
        .instructions {
            background: #e0f7fa;
            border-left: 4px solid #00bcd4;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }
        
        .instructions h3 {
            color: #00838f;
            margin-top: 0;
        }
        
        .instructions ol {
            margin-left: 1.5rem;
        }
        
        .instructions li {
            margin-bottom: 0.5rem;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            background: #2d2d2d;
            color: white;
        }
        
        .result-count {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: #2c3e50;
        }
        
        .result-count span {
            color: #0083b0;
            font-weight: bold;
        }
        
        .search-examples {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Bookstore API Lab</h1>
            <p>Task 4: Get all books based on Title</p>
        </header>
        
        <div class="content">
            <div class="api-section">
                <h2>API Endpoint</h2>
                
                <div class="endpoint">
                    GET /api/books?title={bookTitle}
                </div>
                
                <p>This endpoint returns all books that match the provided title (partial matches included).</p>
                
                <h3>Example Request</h3>
                <div class="endpoint">
                    fetch('/api/books?title=Harry%20Potter')<br>
                    .then(response => response.json())<br>
                    .then(data => console.log(data));
                </div>
                
                <div class="search-input">
                    <input type="text" id="title-input" placeholder="Enter book title (e.g., Harry Potter)" value="Harry Potter">
                    <button class="btn" onclick="getBooksByTitle()">
                        <i class="fas fa-search"></i> Search
                    </button>
                </div>
                
                <div class="search-examples">
                    Try: "Harry", "Potter", "1984", "Game", "Hunger"
                </div>
                
                <h3>API Response</h3>
                <div class="response" id="api-response">
                    <p>// Enter a book title and click "Search" to see the response</p>
                </div>
            </div>
            
            <div>
                <h2>Books by Title</h2>
                <p>Search for books by title by entering a search term or selecting from the examples below:</p>
                
                <div class="title-list">
                    <div class="title-item" onclick="selectTitle('Harry Potter')">
                        <div class="book-title">Harry Potter</div>
                        <div class="book-author">J.K. Rowling</div>
                    </div>
                    <div class="title-item" onclick="selectTitle('1984')">
                        <div class="book-title">1984</div>
                        <div class="book-author">George Orwell</div>
                    </div>
                    <div class="title-item" onclick="selectTitle('The Hunger Games')">
                        <div class="book-title">The Hunger Games</div>
                        <div class="book-author">Suzanne Collins</div>
                    </div>
                    <div class="title-item" onclick="selectTitle('Game of Thrones')">
                        <div class="book-title">Game of Thrones</div>
                        <div class="book-author">George R.R. Martin</div>
                    </div>
                </div>
                
                <div class="book-results">
                    <div class="result-count" id="result-count">Showing <span>0</span> results</div>
                    
                    <div id="books-container">
                        <div class="no-books">
                            <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                            <p>Enter a book title to search for books</p>
                        </div>
                    </div>
                </div>
                
                <div class="instructions">
                    <h3>Instructions for Submission</h3>
                    <ol>
                        <li>Enter a book title or select a title from the examples</li>
                        <li>Click the "Search" button to generate the API response</li>
                        <li>Take a screenshot of the entire page showing the response</li>
                        <li>Save the screenshot as "4-getbooksbytitle.png"</li>
                        <li>Submit this screenshot for your peer review</li>
                    </ol>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Bookstore API Lab &copy; 2023</p>
            <p>Task 4: Get all books based on Title - 2 Points</p>
        </footer>
    </div>

    <script>
        // Sample book data
        const books = [
            {
                id: 1,
                title: "Harry Potter and the Philosopher's Stone",
                author: "J.K. Rowling",
                isbn: "9780747532743",
                price: 12.99,
                year: 1997,
                description: "The first book in the Harry Potter series, following a young wizard's first year at Hogwarts."
            },
            {
                id: 2,
                title: "Harry Potter and the Chamber of Secrets",
                author: "J.K. Rowling",
                isbn: "9780747538493",
                price: 12.99,
                year: 1998,
                description: "The second book in the Harry Potter series, where Harry investigates the mysterious Chamber of Secrets."
            },
            {
                id: 3,
                title: "Harry Potter and the Prisoner of Azkaban",
                author: "J.K. Rowling",
                isbn: "9780747542155",
                price: 13.99,
                year: 1999,
                description: "The third book in the Harry Potter series, where Harry learns about his parents' past."
            },
            {
                id: 4,
                title: "1984",
                author: "George Orwell",
                isbn: "9780451524935",
                price: 10.99,
                year: 1949,
                description: "A dystopian novel about totalitarianism, thought control, and surveillance in a futuristic society."
            },
            {
                id: 5,
                title: "Animal Farm",
                author: "George Orwell",
                isbn: "9780451526342",
                price: 9.99,
                year: 1945,
                description: "A satirical allegory about Soviet totalitarianism, where farm animals overthrow their human owners."
            },
            {
                id: 6,
                title: "The Hunger Games",
                author: "Suzanne Collins",
                isbn: "9780439023481",
                price: 11.99,
                year: 2008,
                description: "A dystopian novel where teenagers are forced to participate in a televised death match."
            },
            {
                id: 7,
                title: "Catching Fire",
                author: "Suzanne Collins",
                isbn: "9780439023498",
                price: 12.99,
                year: 2009,
                description: "The second book in The Hunger Games series, where Katniss becomes a symbol of rebellion."
            },
            {
                id: 8,
                title: "Mockingjay",
                author: "Suzanne Collins",
                isbn: "9780439023511",
                price: 13.99,
                year: 2010,
                description: "The final book in The Hunger Games series, following the revolution against the Capitol."
            },
            {
                id: 9,
                title: "A Game of Thrones",
                author: "George R.R. Martin",
                isbn: "9780553103540",
                price: 15.99,
                year: 1996,
                description: "The first book in A Song of Ice and Fire series, set in the fictional continents of Westeros and Essos."
            },
            {
                id: 10,
                title: "A Clash of Kings",
                author: "George R.R. Martin",
                isbn: "9780553108033",
                price: 16.99,
                year: 1998,
                description: "The second book in A Song of Ice and Fire series, following the War of the Five Kings."
            }
        ];
        
        function selectTitle(title) {
            document.getElementById('title-input').value = title;
            getBooksByTitle();
            
            // Highlight selected title
            document.querySelectorAll('.title-item').forEach(item => {
                item.classList.remove('selected');
                if (item.querySelector('.book-title').textContent === title) {
                    item.classList.add('selected');
                }
            });
        }
        
        function getBooksByTitle() {
            const title = document.getElementById('title-input').value;
            const titleBooks = books.filter(b => b.title.toLowerCase().includes(title.toLowerCase()));
            
            const responseElement = document.getElementById('api-response');
            const booksContainer = document.getElementById('books-container');
            const resultCount = document.getElementById('result-count');
            
            // Update result count
            resultCount.innerHTML = `Showing <span>${titleBooks.length}</span> result${titleBooks.length !== 1 ? 's' : ''} for "${title}"`;
            
            if (titleBooks.length > 0) {
                // Display the response in the response box
                responseElement.innerHTML = `<pre>${JSON.stringify(titleBooks, null, 2)}</pre>`;
                
                // Display books in the UI
                booksContainer.innerHTML = '';
                titleBooks.forEach(book => {
                    const bookCard = document.createElement('div');
                    bookCard.className = 'book-card';
                    bookCard.innerHTML = `
                        <div class="book-image">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="book-info">
                            <h3 class="book-title-large">${book.title}</h3>
                            <p class="book-author-large">by ${book.author}</p>
                            <p class="book-meta">ISBN: ${book.isbn} | Published: ${book.year}</p>
                            <p class="book-price">$${book.price}</p>
                            <p class="book-description">${book.description}</p>
                        </div>
                    `;
                    booksContainer.appendChild(bookCard);
                });
                
                // Also log to console to simulate developer tools
                console.log("API Response:", titleBooks);
            } else {
                responseElement.innerHTML = `<pre>{
  "error": "No books found",
  "message": "No books found with title containing: ${title}"
}</pre>`;
                
                // Show no results message
                booksContainer.innerHTML = `
                    <div class="no-books">
                        <i class="fas fa-exclamation-circle" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                        <p>No books found containing "${title}"</p>
                        <p>Please try a different search term</p>
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
