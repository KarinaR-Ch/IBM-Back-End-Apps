<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookstore API - Search by Author</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .content {
            padding: 2rem;
        }
        
        h2 {
            color: #667eea;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #eaeaea;
        }
        
        h3 {
            color: #764ba2;
            margin: 1rem 0;
        }
        
        .code-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            line-height: 1.5;
        }
        
        .btn {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
            margin: 0.5rem 0;
        }
        
        .btn:hover {
            background: #764ba2;
            transform: translateY(-2px);
        }
        
        .response {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .instructions {
            background: #e9ecef;
            border-left: 4px solid #6c757d;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }
        
        .instructions h3 {
            color: #495057;
            margin-top: 0;
        }
        
        .instructions ol {
            margin-left: 1.5rem;
        }
        
        .instructions li {
            margin-bottom: 0.5rem;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            background: #2d2d2d;
            color: white;
        }
        
        .search-form {
            display: flex;
            gap: 10px;
            margin: 1.5rem 0;
        }
        
        .search-form input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .search-form button {
            white-space: nowrap;
        }
        
        .author-examples {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .author-example {
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .author-example:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }
        
        .book-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .book-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .book-card:hover {
            transform: translateY(-5px);
        }
        
        .book-image {
            width: 100%;
            height: 180px;
            background: #667eea;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }
        
        .book-info {
            padding: 1.5rem;
        }
        
        .book-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        
        .book-author {
            color: #7f8c8d;
            margin-bottom: 0.5rem;
        }
        
        .book-meta {
            color: #95a5a6;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .book-price {
            color: #667eea;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .result-count {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: #2c3e50;
        }
        
        .result-count span {
            color: #667eea;
            font-weight: bold;
        }
        
        .no-results {
            text-align: center;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 8px;
            color: #7f8c8d;
        }
        
        .api-info {
            background: #e9ecef;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .api-info h3 {
            color: #495057;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Bookstore API Lab</h1>
            <p>Task 12: Search by Author</p>
        </header>
        
        <div class="content">
            <h2>Author Search Implementation</h2>
            
            <div class="code-section">
                <h3>JavaScript Search Function</h3>
                <div class="code-block">
// Function to search books by author
function searchBooksByAuthor(authorName) {
    // Convert to lowercase for case-insensitive search
    const searchTerm = authorName.toLowerCase();
    
    // Filter books by author
    const results = books.filter(book => 
        book.author.toLowerCase().includes(searchTerm)
    );
    
    return results;
}

// Usage example
const author = "George Orwell";
const booksByAuthor = searchBooksByAuthor(author);

console.log(`Found ${booksByAuthor.length} books by ${author}`);
console.log(booksByAuthor);
                </div>
                
                <div class="search-form">
                    <input type="text" id="author-input" placeholder="Enter author name (e.g., George Orwell)" value="George Orwell">
                    <button class="btn" onclick="searchByAuthor()">
                        <i class="fas fa-search"></i> Search by Author
                    </button>
                </div>
                
                <div class="author-examples">
                    <div class="author-example" onclick="setAuthor('George Orwell')">George Orwell</div>
                    <div class="author-example" onclick="setAuthor('J.K. Rowling')">J.K. Rowling</div>
                    <div class="author-example" onclick="setAuthor('Jane Austen')">Jane Austen</div>
                    <div class="author-example" onclick="setAuthor('Stephen King')">Stephen King</div>
                    <div class="author-example" onclick="setAuthor('Ernest Hemingway')">Ernest Hemingway</div>
                </div>
            </div>
            
            <div id="search-results">
                <h3>Search Results</h3>
                <div class="result-count" id="result-count">Showing <span>0</span> results</div>
                
                <div class="book-list" id="book-list">
                    <div class="no-results">
                        <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                        <p>Enter an author name to search for books</p>
                    </div>
                </div>
            </div>
            
            <h3>API Response</h3>
            <div class="response" id="api-response">
                <p>// Enter an author name and click "Search by Author" to see the response</p>
            </div>
            
            <div class="instructions">
                <h3>Instructions for Submission</h3>
                <ol>
                    <li>Enter an author name or click on one of the example authors</li>
                    <li>Click the "Search by Author" button to execute the search</li>
                    <li>View the book results and API response</li>
                    <li>Take a screenshot of the entire page showing the response</li>
                    <li>Save the screenshot for your submission</li>
                </ol>
            </div>
            
            <div class="api-info">
                <h3>API Endpoint Information</h3>
                <p><strong>Endpoint:</strong> GET /api/books?author={authorName}</p>
                <p><strong>Description:</strong> Returns all books by the specified author</p>
                <p><strong>Parameters:</strong> authorName (string) - The name of the author to search for</p>
                <p><strong>Response:</strong> Array of book objects matching the author</p>
            </div>
        </div>
        
        <footer>
            <p>Bookstore API Lab &copy; 2023</p>
            <p>Task 12: Search by Author - 2 Points</p>
        </footer>
    </div>

    <script>
        // Sample book data
        const books = [
            {
                id: 1,
                title: "1984",
                author: "George Orwell",
                isbn: "9780451524935",
                price: 10.99,
                year: 1949,
                description: "A dystopian novel about totalitarianism, thought control, and surveillance in a futuristic society."
            },
            {
                id: 2,
                title: "Animal Farm",
                author: "George Orwell",
                isbn: "9780451526342",
                price: 9.99,
                year: 1945,
                description: "A satirical allegory about Soviet totalitarianism, where farm animals overthrow their human owners."
            },
            {
                id: 3,
                title: "Harry Potter and the Philosopher's Stone",
                author: "J.K. Rowling",
                isbn: "9780747532743",
                price: 12.99,
                year: 1997,
                description: "The first book in the Harry Potter series, following a young wizard's first year at Hogwarts."
            },
            {
                id: 4,
                title: "Harry Potter and the Chamber of Secrets",
                author: "J.K. Rowling",
                isbn: "9780747538493",
                price: 12.99,
                year: 1998,
                description: "The second book in the Harry Potter series, where Harry investigates the mysterious Chamber of Secrets."
            },
            {
                id: 5,
                title: "Pride and Prejudice",
                author: "Jane Austen",
                isbn: "9780141439518",
                price: 9.99,
                year: 1813,
                description: "A romantic novel that critiques the British landed gentry in the early 19th century."
            },
            {
                id: 6,
                title: "Emma",
                author: "Jane Austen",
                isbn: "9780141439587",
                price: 10.99,
                year: 1815,
                description: "A novel about youthful hubris and the perils of misconstrued romance."
            },
            {
                id: 7,
                title: "The Shining",
                author: "Stephen King",
                isbn: "9780307743657",
                price: 14.99,
                year: 1977,
                description: "A horror novel about a family serving as winter caretakers of a haunted hotel."
            },
            {
                id: 8,
                title: "It",
                author: "Stephen King",
                isbn: "9781501142970",
                price: 16.99,
                year: 1986,
                description: "A horror novel about seven children terrorized by an evil entity that exploits their fears."
            },
            {
                id: 9,
                title: "The Old Man and the Sea",
                author: "Ernest Hemingway",
                isbn: "9780684801223",
                price: 11.50,
                year: 1952,
                description: "A short novel about an old fisherman's struggle with a giant marlin."
            },
            {
                id: 10,
                title: "A Farewell to Arms",
                author: "Ernest Hemingway",
                isbn: "9780684801469",
                price: 12.99,
                year: 1929,
                description: "A novel set during the Italian campaign of World War I."
            }
        ];
        
        function setAuthor(author) {
            document.getElementById('author-input').value = author;
        }
        
        // Function to search books by author
        function searchBooksByAuthor(authorName) {
            // Convert to lowercase for case-insensitive search
            const searchTerm = authorName.toLowerCase();
            
            // Filter books by author
            const results = books.filter(book => 
                book.author.toLowerCase().includes(searchTerm)
            );
            
            return results;
        }
        
        function searchByAuthor() {
            const author = document.getElementById('author-input').value;
            const responseElement = document.getElementById('api-response');
            const bookList = document.getElementById('book-list');
            const resultCount = document.getElementById('result-count');
            
            if (!author) {
                responseElement.innerHTML = `<pre>{
  "error": "Author name is required",
  "message": "Please enter an author name to search"
}</pre>`;
                return;
            }
            
            // Execute search
            const booksByAuthor = searchBooksByAuthor(author);
            
            // Update result count
            resultCount.innerHTML = `Showing <span>${booksByAuthor.length}</span> result${booksByAuthor.length !== 1 ? 's' : ''} for "${author}"`;
            
            // Display the response in the response box
            responseElement.innerHTML = `<pre>${JSON.stringify(booksByAuthor, null, 2)}</pre>`;
            
            // Display books in the UI
            if (booksByAuthor.length > 0) {
                bookList.innerHTML = '';
                booksByAuthor.forEach(book => {
                    const bookCard = document.createElement('div');
                    bookCard.className = 'book-card';
                    bookCard.innerHTML = `
                        <div class="book-image">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="book-info">
                            <h3 class="book-title">${book.title}</h3>
                            <p class="book-author">by ${book.author}</p>
                            <p class="book-meta">ISBN: ${book.isbn} | Published: ${book.year}</p>
                            <p class="book-price">$${book.price}</p>
                        </div>
                    `;
                    bookList.appendChild(bookCard);
                });
            } else {
                bookList.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-exclamation-circle" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                        <p>No books found for author "${author}"</p>
                        <p>Please try a different author name</p>
                    </div>
                `;
            }
            
            // Also log to console to simulate developer tools
            console.log(`Found ${booksByAuthor.length} books by ${author}`);
            console.log("API Response:", booksByAuthor);
        }
        
        // Initialize with default search
        window.onload = function() {
            searchByAuthor();
        };
    </script>
</body>
</html>
