<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookstore API - Search by Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .content {
            padding: 2rem;
        }
        
        h2 {
            color: #ff6b6b;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #eaeaea;
        }
        
        h3 {
            color: #ee5a24;
            margin: 1rem 0;
        }
        
        .code-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            line-height: 1.5;
        }
        
        .btn {
            display: inline-block;
            background: #ff6b6b;
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
            margin: 0.5rem 0;
        }
        
        .btn:hover {
            background: #ee5a24;
            transform: translateY(-2px);
        }
        
        .response {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .instructions {
            background: #ffeaa7;
            border-left: 4px solid #fdcb6e;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }
        
        .instructions h3 {
            color: #d35400;
            margin-top: 0;
        }
        
        .instructions ol {
            margin-left: 1.5rem;
        }
        
        .instructions li {
            margin-bottom: 0.5rem;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            background: #2d2d2d;
            color: white;
        }
        
        .search-form {
            display: flex;
            gap: 10px;
            margin: 1.5rem 0;
        }
        
        .search-form input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .search-form button {
            white-space: nowrap;
        }
        
        .title-examples {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .title-example {
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .title-example:hover {
            background: #ffeaa7;
            transform: translateY(-2px);
        }
        
        .book-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .book-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .book-card:hover {
            transform: translateY(-5px);
        }
        
        .book-image {
            width: 100%;
            height: 180px;
            background: #ff6b6b;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }
        
        .book-info {
            padding: 1.5rem;
        }
        
        .book-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        
        .book-author {
            color: #7f8c8d;
            margin-bottom: 0.5rem;
        }
        
        .book-meta {
            color: #95a5a6;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .book-price {
            color: #ff6b6b;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .result-count {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: #2c3e50;
        }
        
        .result-count span {
            color: #ff6b6b;
            font-weight: bold;
        }
        
        .no-results {
            text-align: center;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 8px;
            color: #7f8c8d;
        }
        
        .api-info {
            background: #ffeaa7;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .api-info h3 {
            color: #d35400;
            margin-top: 0;
        }
        
        .search-info {
            background: #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Bookstore API Lab</h1>
            <p>Task 13: Search by Title</p>
        </header>
        
        <div class="content">
            <h2>Title Search Implementation</h2>
            
            <div class="search-info">
                <p><strong>Note:</strong> This search is case-insensitive and matches partial titles. Try searching for "harry", "potter", "1984", or "game".</p>
            </div>
            
            <div class="code-section">
                <h3>JavaScript Search Function</h3>
                <div class="code-block">
// Function to search books by title
function searchBooksByTitle(title) {
    // Convert to lowercase for case-insensitive search
    const searchTerm = title.toLowerCase();
    
    // Filter books by title
    const results = books.filter(book => 
        book.title.toLowerCase().includes(searchTerm)
    );
    
    return results;
}

// Usage example
const title = "Harry Potter";
const booksByTitle = searchBooksByTitle(title);

console.log(`Found ${booksByTitle.length} books with "${title}" in the title`);
console.log(booksByTitle);
                </div>
                
                <div class="search-form">
                    <input type="text" id="title-input" placeholder="Enter book title (e.g., Harry Potter)" value="Harry Potter">
                    <button class="btn" onclick="searchByTitle()">
                        <i class="fas fa-search"></i> Search by Title
                    </button>
                </div>
                
                <div class="title-examples">
                    <div class="title-example" onclick="setTitle('Harry Potter')">Harry Potter</div>
                    <div class="title-example" onclick="setTitle('1984')">1984</div>
                    <div class="title-example" onclick="setTitle('Game')">Game</div>
                    <div class="title-example" onclick="setTitle('Hunger')">Hunger</div>
                    <div class="title-example" onclick="setTitle('The')">The</div>
                </div>
            </div>
            
            <div id="search-results">
                <h3>Search Results</h3>
                <div class="result-count" id="result-count">Showing <span>0</span> results</div>
                
                <div class="book-list" id="book-list">
                    <div class="no-results">
                        <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                        <p>Enter a book title to search for books</p>
                    </div>
                </div>
            </div>
            
            <h3>API Response</h3>
            <div class="response" id="api-response">
                <p>// Enter a book title and click "Search by Title" to see the response</p>
            </div>
            
            <div class="instructions">
                <h3>Instructions for Submission</h3>
                <ol>
                    <li>Enter a book title or click on one of the example titles</li>
                    <li>Click the "Search by Title" button to execute the search</li>
                    <li>View the book results and API response</li>
                    <li>Take a screenshot of the entire page showing the response</li>
                    <li>Save the screenshot for your submission</li>
                </ol>
            </div>
            
            <div class="api-info">
                <h3>API Endpoint Information</h3>
                <p><strong>Endpoint:</strong> GET /api/books?title={bookTitle}</p>
                <p><strong>Description:</strong> Returns all books with titles matching the search term</p>
                <p><strong>Parameters:</strong> bookTitle (string) - The title or partial title to search for</p>
                <p><strong>Response:</strong> Array of book objects matching the title search</p>
            </div>
        </div>
        
        <footer>
            <p>Bookstore API Lab &copy; 2023</p>
            <p>Task 13: Search by Title - 2 Points</p>
        </footer>
    </div>

    <script>
        // Sample book data
        const books = [
            {
                id: 1,
                title: "Harry Potter and the Philosopher's Stone",
                author: "J.K. Rowling",
                isbn: "9780747532743",
                price: 12.99,
                year: 1997,
                description: "The first book in the Harry Potter series, following a young wizard's first year at Hogwarts."
            },
            {
                id: 2,
                title: "Harry Potter and the Chamber of Secrets",
                author: "J.K. Rowling",
                isbn: "9780747538493",
                price: 12.99,
                year: 1998,
                description: "The second book in the Harry Potter series, where Harry investigates the mysterious Chamber of Secrets."
            },
            {
                id: 3,
                title: "Harry Potter and the Prisoner of Azkaban",
                author: "J.K. Rowling",
                isbn: "9780747542155",
                price: 13.99,
                year: 1999,
                description: "The third book in the Harry Potter series, where Harry learns about his parents' past."
            },
            {
                id: 4,
                title: "1984",
                author: "George Orwell",
                isbn: "9780451524935",
                price: 10.99,
                year: 1949,
                description: "A dystopian novel about totalitarianism, thought control, and surveillance in a futuristic society."
            },
            {
                id: 5,
                title: "Animal Farm",
                author: "George Orwell",
                isbn: "9780451526342",
                price: 9.99,
                year: 1945,
                description: "A satirical allegory about Soviet totalitarianism, where farm animals overthrow their human owners."
            },
            {
                id: 6,
                title: "The Hunger Games",
                author: "Suzanne Collins",
                isbn: "9780439023481",
                price: 11.99,
                year: 2008,
                description: "A dystopian novel where teenagers are forced to participate in a televised death match."
            },
            {
                id: 7,
                title: "Catching Fire",
                author: "Suzanne Collins",
                isbn: "9780439023498",
                price: 12.99,
                year: 2009,
                description: "The second book in The Hunger Games series, where Katniss becomes a symbol of rebellion."
            },
            {
                id: 8,
                title: "Mockingjay",
                author: "Suzanne Collins",
                isbn: "9780439023511",
                price: 13.99,
                year: 2010,
                description: "The final book in The Hunger Games series, following the revolution against the Capitol."
            },
            {
                id: 9,
                title: "The Great Gatsby",
                author: "F. Scott Fitzgerald",
                isbn: "9780743273565",
                price: 12.99,
                year: 1925,
                description: "A novel about the American dream set in the Jazz Age."
            },
            {
                id: 10,
                title: "The Catcher in the Rye",
                author: "J.D. Salinger",
                isbn: "9780316769174",
                price: 11.50,
                year: 1951,
                description: "A novel about teenage angst and rebellion."
            }
        ];
        
        function setTitle(title) {
            document.getElementById('title-input').value = title;
        }
        
        // Function to search books by title
        function searchBooksByTitle(title) {
            // Convert to lowercase for case-insensitive search
            const searchTerm = title.toLowerCase();
            
            // Filter books by title
            const results = books.filter(book => 
                book.title.toLowerCase().includes(searchTerm)
            );
            
            return results;
        }
        
        function searchByTitle() {
            const title = document.getElementById('title-input').value;
            const responseElement = document.getElementById('api-response');
            const bookList = document.getElementById('book-list');
            const resultCount = document.getElementById('result-count');
            
            if (!title) {
                responseElement.innerHTML = `<pre>{
  "error": "Book title is required",
  "message": "Please enter a book title to search"
}</pre>`;
                return;
            }
            
            // Execute search
            const booksByTitle = searchBooksByTitle(title);
            
            // Update result count
            resultCount.innerHTML = `Showing <span>${booksByTitle.length}</span> result${booksByTitle.length !== 1 ? 's' : ''} for "${title}"`;
            
            // Display the response in the response box
            responseElement.innerHTML = `<pre>${JSON.stringify(booksByTitle, null, 2)}</pre>`;
            
            // Display books in the UI
            if (booksByTitle.length > 0) {
                bookList.innerHTML = '';
                booksByTitle.forEach(book => {
                    const bookCard = document.createElement('div');
                    bookCard.className = 'book-card';
                    bookCard.innerHTML = `
                        <div class="book-image">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="book-info">
                            <h3 class="book-title">${book.title}</h3>
                            <p class="book-author">by ${book.author}</p>
                            <p class="book-meta">ISBN: ${book.isbn} | Published: ${book.year}</p>
                            <p class="book-price">$${book.price}</p>
                        </div>
                    `;
                    bookList.appendChild(bookCard);
                });
            } else {
                bookList.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-exclamation-circle" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                        <p>No books found with "${title}" in the title</p>
                        <p>Please try a different search term</p>
                    </div>
                `;
            }
            
            // Also log to console to simulate developer tools
            console.log(`Found ${booksByTitle.length} books with "${title}" in the title`);
            console.log("API Response:", booksByTitle);
        }
        
        // Initialize with default search
        window.onload = function() {
            searchByTitle();
        };
    </script>
</body>
</html>
