<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookstore API - Get Books by Author</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        @media (max-width: 900px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
        
        .api-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
        }
        
        h2 {
            color: #ff6b6b;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #eaeaea;
        }
        
        h3 {
            color: #ee5a24;
            margin: 1rem 0;
        }
        
        .endpoint {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }
        
        .btn {
            display: inline-block;
            background: #ff6b6b;
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
            margin: 0.5rem 0;
        }
        
        .btn:hover {
            background: #ee5a24;
            transform: translateY(-2px);
        }
        
        .response {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .author-input {
            display: flex;
            gap: 10px;
            margin: 1rem 0;
        }
        
        .author-input input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .author-input button {
            white-space: nowrap;
        }
        
        .author-list {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .author-item {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .author-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .author-item.selected {
            border: 2px solid #ff6b6b;
            background: #ffeaea;
        }
        
        .author-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        
        .book-count {
            font-size: 0.8rem;
            color: #7f8c8d;
        }
        
        .book-results {
            margin: 1.5rem 0;
        }
        
        .book-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
            display: flex;
        }
        
        .book-image {
            width: 120px;
            background: #ff6b6b;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
        }
        
        .book-info {
            padding: 1.5rem;
            flex: 1;
        }
        
        .book-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        
        .book-author {
            color: #7f8c8d;
            margin-bottom: 0.5rem;
        }
        
        .book-meta {
            color: #95a5a6;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .book-price {
            color: #ff6b6b;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .book-description {
            line-height: 1.6;
            margin: 1rem 0;
            color: #34495e;
            font-size: 0.9rem;
        }
        
        .no-books {
            text-align: center;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 8px;
            color: #7f8c8d;
        }
        
        .instructions {
            background: #ffeaa7;
            border-left: 4px solid #fdcb6e;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }
        
        .instructions h3 {
            color: #d35400;
            margin-top: 0;
        }
        
        .instructions ol {
            margin-left: 1.5rem;
        }
        
        .instructions li {
            margin-bottom: 0.5rem;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            background: #2d2d2d;
            color: white;
        }
        
        .result-count {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: #2c3e50;
        }
        
        .result-count span {
            color: #ff6b6b;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Bookstore API Lab</h1>
            <p>Task 3: Get all books by Author</p>
        </header>
        
        <div class="content">
            <div class="api-section">
                <h2>API Endpoint</h2>
                
                <div class="endpoint">
                    GET /api/books?author={authorName}
                </div>
                
                <p>This endpoint returns all books by a specific author.</p>
                
                <h3>Example Request</h3>
                <div class="endpoint">
                    fetch('/api/books?author=George%20Orwell')<br>
                    .then(response => response.json())<br>
                    .then(data => console.log(data));
                </div>
                
                <div class="author-input">
                    <input type="text" id="author-input" placeholder="Enter author name (e.g., George Orwell)" value="George Orwell">
                    <button class="btn" onclick="getBooksByAuthor()">
                        <i class="fas fa-search"></i> Get Books
                    </button>
                </div>
                
                <h3>API Response</h3>
                <div class="response" id="api-response">
                    <p>// Enter an author name and click "Get Books" to see the response</p>
                </div>
            </div>
            
            <div>
                <h2>Books by Author</h2>
                <p>View books by a specific author by entering their name or selecting from the examples below:</p>
                
                <div class="author-list">
                    <div class="author-item" onclick="selectAuthor('George Orwell')">
                        <div class="author-name">George Orwell</div>
                        <div class="book-count">2 books</div>
                    </div>
                    <div class="author-item" onclick="selectAuthor('J.K. Rowling')">
                        <div class="author-name">J.K. Rowling</div>
                        <div class="book-count">3 books</div>
                    </div>
                    <div class="author-item" onclick="selectAuthor('Stephen King')">
                        <div class="author-name">Stephen King</div>
                        <div class="book-count">2 books</div>
                    </div>
                    <div class="author-item" onclick="selectAuthor('Jane Austen')">
                        <div class="author-name">Jane Austen</div>
                        <div class="book-count">1 book</div>
                    </div>
                </div>
                
                <div class="book-results">
                    <div class="result-count" id="result-count">Showing <span>0</span> results</div>
                    
                    <div id="books-container">
                        <div class="no-books">
                            <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                            <p>Enter an author name to see their books</p>
                        </div>
                    </div>
                </div>
                
                <div class="instructions">
                    <h3>Instructions for Submission</h3>
                    <ol>
                        <li>Enter an author name or select an author from the examples</li>
                        <li>Click the "Get Books" button to generate the API response</li>
                        <li>Take a screenshot of the entire page showing the response</li>
                        <li>Save the screenshot as "3-getbooksbyauthor.png"</li>
                        <li>Submit this screenshot for your peer review</li>
                    </ol>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Bookstore API Lab &copy; 2023</p>
            <p>Task 3: Get all books by Author - 2 Points</p>
        </footer>
    </div>

    <script>
        // Sample book data
        const books = [
            {
                id: 1,
                title: "1984",
                author: "George Orwell",
                isbn: "9780451524935",
                price: 10.99,
                year: 1949,
                description: "A dystopian novel about totalitarianism, thought control, and surveillance in a futuristic society."
            },
            {
                id: 2,
                title: "Animal Farm",
                author: "George Orwell",
                isbn: "9780451526342",
                price: 9.99,
                year: 1945,
                description: "A satirical allegory about Soviet totalitarianism, where farm animals overthrow their human owners."
            },
            {
                id: 3,
                title: "Harry Potter and the Philosopher's Stone",
                author: "J.K. Rowling",
                isbn: "9780747532743",
                price: 12.99,
                year: 1997,
                description: "The first book in the Harry Potter series, following a young wizard's first year at Hogwarts."
            },
            {
                id: 4,
                title: "Harry Potter and the Chamber of Secrets",
                author: "J.K. Rowling",
                isbn: "9780747538493",
                price: 12.99,
                year: 1998,
                description: "The second book in the Harry Potter series, where Harry investigates the mysterious Chamber of Secrets."
            },
            {
                id: 5,
                title: "Harry Potter and the Prisoner of Azkaban",
                author: "J.K. Rowling",
                isbn: "9780747542155",
                price: 13.99,
                year: 1999,
                description: "The third book in the Harry Potter series, where Harry learns about his parents' past."
            },
            {
                id: 6,
                title: "The Shining",
                author: "Stephen King",
                isbn: "9780307743657",
                price: 14.99,
                year: 1977,
                description: "A horror novel about a family serving as winter caretakers of a haunted hotel."
            },
            {
                id: 7,
                title: "It",
                author: "Stephen King",
                isbn: "9781501142970",
                price: 16.99,
                year: 1986,
                description: "A horror novel about seven children terrorized by an evil entity that exploits their fears."
            },
            {
                id: 8,
                title: "Pride and Prejudice",
                author: "Jane Austen",
                isbn: "9780141439518",
                price: 9.99,
                year: 1813,
                description: "A romantic novel that critiques the British landed gentry in the early 19th century."
            }
        ];
        
        function selectAuthor(author) {
            document.getElementById('author-input').value = author;
            getBooksByAuthor();
            
            // Highlight selected author
            document.querySelectorAll('.author-item').forEach(item => {
                item.classList.remove('selected');
                if (item.querySelector('.author-name').textContent === author) {
                    item.classList.add('selected');
                }
            });
        }
        
        function getBooksByAuthor() {
            const author = document.getElementById('author-input').value;
            const authorBooks = books.filter(b => b.author.toLowerCase().includes(author.toLowerCase()));
            
            const responseElement = document.getElementById('api-response');
            const booksContainer = document.getElementById('books-container');
            const resultCount = document.getElementById('result-count');
            
            // Update result count
            resultCount.innerHTML = `Showing <span>${authorBooks.length}</span> result${authorBooks.length !== 1 ? 's' : ''} for "${author}"`;
            
            if (authorBooks.length > 0) {
                // Display the response in the response box
                responseElement.innerHTML = `<pre>${JSON.stringify(authorBooks, null, 2)}</pre>`;
                
                // Display books in the UI
                booksContainer.innerHTML = '';
                authorBooks.forEach(book => {
                    const bookCard = document.createElement('div');
                    bookCard.className = 'book-card';
                    bookCard.innerHTML = `
                        <div class="book-image">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="book-info">
                            <h3 class="book-title">${book.title}</h3>
                            <p class="book-author">by ${book.author}</p>
                            <p class="book-meta">ISBN: ${book.isbn} | Published: ${book.year}</p>
                            <p class="book-price">$${book.price}</p>
                            <p class="book-description">${book.description}</p>
                        </div>
                    `;
                    booksContainer.appendChild(bookCard);
                });
                
                // Also log to console to simulate developer tools
                console.log("API Response:", authorBooks);
            } else {
                responseElement.innerHTML = `<pre>{
  "error": "No books found",
  "message": "No books found for author: ${author}"
}</pre>`;
                
                // Show no results message
                booksContainer.innerHTML = `
                    <div class="no-books">
                        <i class="fas fa-exclamation-circle" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                        <p>No books found for author "${author}"</p>
                        <p>Please try a different author name</p>
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
